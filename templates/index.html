<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RoutineUp — Tarefas</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;margin:0;background:#f8fafc}
    header{background:#0f172a;color:#fff;padding:12px 16px}
    main{padding:16px;max-width:720px;margin:0 auto}
    form.add{display:flex;gap:8px;margin:12px 0}
    input[type=text]{flex:1;padding:10px;border:1px solid #ddd;border-radius:8px}
    button{padding:10px 14px;border:0;border-radius:8px;background:#2563eb;color:#fff;font-weight:600;cursor:pointer}
    ul{list-style:none;padding:0;margin:0}
    li{display:flex;align-items:center;gap:8px;padding:12px 8px;border-bottom:1px solid #eee;background:#fff}
    .title.done{text-decoration:line-through;color:#64748b}
    .actions form{display:inline}
    .pill{font-size:12px;color:#334155;background:#e2e8f0;border-radius:999px;padding:2px 8px;margin-left:auto}
  </style>
</head>
<body>
  <header><h1>RoutineUp — Tarefas (Flask + SQLite)</h1></header>
  <main>
    <form class="add" method="post" action="/add">
      <input type="text" name="title" placeholder="Nova tarefa..." autofocus />
      <button>Adicionar</button>
    </form>

    <ul>
      {% for t in tasks %}
      <li>
        <form method="post" action="/toggle/{{t.id}}">
          <button title="Concluir/Desfazer">{{ "✓" if t.done else "○" }}</button>
        </form>
        <span class="title {{ 'done' if t.done else '' }}">{{ t.title }}</span>
        <span class="pill">#{{t.id}}</span>
        <span class="actions">
          <form method="post" action="/delete/{{t.id}}" onsubmit="return confirm('Excluir esta tarefa?');">
            <button style="background:#dc2626">Excluir</button>
          </form>
        </span>
      </li>
      {% else %}
      <p style="color:#64748b;margin-top:16px">Nenhuma tarefa cadastrada.</p>
      {% endfor %}
    </ul>
  </main>
</body>
</html>
